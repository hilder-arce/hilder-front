<div
  class="min-h-screen flex items-center justify-center px-6 relative overflow-hidden transition-all duration-700"
  [class.bg-gray-100]="!theme.darkMode()"
  [class.bg-gradient-to-br]="theme.darkMode()"
  [class.from-black]="theme.darkMode()"
  [class.via-gray-900]="theme.darkMode()"
  [class.to-gray-800]="theme.darkMode()"
>

  <!-- BG BLOBS -->
  <div *ngIf="theme.darkMode()" class="absolute w-80 h-80 bg-purple-600/20 blur-3xl rounded-full -top-28 -left-16"></div>
  <div *ngIf="theme.darkMode()" class="absolute w-[32rem] h-[32rem] bg-blue-500/20 blur-[110px] rounded-full -bottom-20 -right-20"></div>

  <!-- CARD -->
  <div
    class="relative w-full max-w-md p-7 rounded-3xl shadow-xl backdrop-blur-2xl transition-all duration-700
           border scale-95 text-white"
    [class.opacity-0]="!loaded"
    [class.translate-y-10]="!loaded"
    [class.scale-100]="loaded"

    [class.bg-white/70]="!theme.darkMode()"
    [class.border-gray-300/40]="!theme.darkMode()"
    [class.text-black]="!theme.darkMode()"

    [class.bg-white/10]="theme.darkMode()"
    [class.border-white/10]="theme.darkMode()"
    [class.text-white]="theme.darkMode()"
  >

    <!-- TITLE -->
    <div class="text-center mb-10">
      <div class="flex justify-center mb-3">
        <div class="w-16 h-16 rounded-full bg-blue-600/20 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" stroke-width="1.6"
               viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M4.5 20.25a8.25 8.25 0 1115 0v.75H4.5v-.75z" />
          </svg>
        </div>
      </div>

      <h1 class="text-3xl font-extrabold">Crear Cuenta</h1>
      <p class="text-sm opacity-70 mt-1">Únete para descubrir las mejores ofertas</p>
    </div>

    <!-- FORM -->
    <form class="space-y-6">

      <!-- INPUT REUSABLE STYLE -->
      <ng-container *ngFor="let field of [
        { label:'Nombre de Usuario', icon:'user', model:'nameUser', type:'text', placeholder:'Tu nombre de usuario' },
        { label:'Correo electrónico', icon:'mail', model:'email', type:'email', placeholder:'ejemplo@correo.com' },
        { label:'Contraseña', icon:'lock', model:'password', type:'password', placeholder:'Mínimo 6 caracteres' }
      ]">

        <div class="relative">
          <label class="text-sm font-semibold absolute -top-2 left-4 px-2 backdrop-blur-sm opacity-70">
            {{ field.label }}
          </label>

          <div class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">
            <ng-container [ngSwitch]="field.icon">
              <svg *ngSwitchCase="'user'" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                   stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M4.5 20.25a8.25 8.25 0 1115 0v.75H4.5v-.75z" />
              </svg>

              <svg *ngSwitchCase="'mail'" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                   stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25H4.5A2.25 2.25 0 012.25 17.25V6.75m0 0L12 12.75m0 0l9.75-6" />
              </svg>

              <svg *ngSwitchCase="'lock'" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                   stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75" />
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M3.75 10.5h16.5v9a.75.75 0 01-.75.75H4.5a.75.75 0 01-.75-.75v-9z" />
              </svg>
            </ng-container>
          </div>

          <input
            [type]="field.type"
            [(ngModel)]="user[field.model]"
            [name]="field.model"
            [placeholder]="field.placeholder"
            class="w-full pl-12 pr-4 py-3.5 rounded-xl border text-sm shadow-sm
                   placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500/70
                   transition-all bg-opacity-40 backdrop-blur-lg"
            [class.bg-white]="!theme.darkMode()"
            [class.border-gray-300]="!theme.darkMode()"
            [class.text-black]="!theme.darkMode()"
            [class.bg-[#111827]]="theme.darkMode()"
            [class.border-gray-700]="theme.darkMode()"
            [class.text-gray-200]="theme.darkMode()"
          />
        </div>
      </ng-container>

      <!-- SELECT USER TYPE -->
      <div class="relative">
        <label class="text-sm font-semibold absolute -top-2 left-4 px-2 backdrop-blur-sm opacity-70">
          Cargo
        </label>

        <select
          [(ngModel)]="user.userType"
          name="userType"
          class="w-full pl-12 pr-4 py-3.5 rounded-xl border text-sm shadow-sm bg-opacity-40 backdrop-blur-lg
                 focus:outline-none focus:ring-2 focus:ring-blue-500/70 transition-all"
          [class.bg-white]="!theme.darkMode()"
          [class.text-black]="!theme.darkMode()"
          [class.border-gray-300]="!theme.darkMode()"
          [class.bg-[#111827]]="theme.darkMode()"
          [class.text-gray-200]="theme.darkMode()"
          [class.border-gray-700]="theme.darkMode()"
        >
          <option value="">Seleccionar</option>
          <option [ngValue]="UserType.Administrador">Administrador</option>
          <option [ngValue]="UserType.Agente">Agente</option>
          <option [ngValue]="UserType.Operador">Operador</option>
          <option [ngValue]="UserType.Supervisor">Supervisor</option>
          <option [ngValue]="UserType.Mecanico">Mecánico</option>
          <option [ngValue]="UserType.Chofer">Chofer</option>
          <option [ngValue]="UserType.Secretaria">Secretaria</option>
          <option [ngValue]="UserType.Ingeniero">Ingeniero</option>
        </select>
      </div>

      <!-- BUTTON -->
      <button
        type="submit"
        (click)="register(user)"
        class="w-full py-3.5 rounded-xl font-bold text-white text-lg
               bg-blue-600 hover:bg-blue-700 transition-all shadow-lg hover:shadow-2xl"
      >
        Crear Cuenta
      </button>

    </form>

    <p class="text-center text-sm mt-6 opacity-80">
      ¿Ya tienes una cuenta?
      <a class="text-blue-400 hover:underline cursor-pointer">Iniciar sesión</a>
    </p>

  </div>

</div>
