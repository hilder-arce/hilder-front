<!--destock-->
<aside
  class="fixed inset-y-0 left-0 z-[2000]
         bg-transparent
         transition-all duration-500 ease-[cubic-bezier(.4,0,.2,1)]
         hidden lg:flex "
  [class.w-[280px]]="!isCollapsed"
  [class.w-[72px]]="isCollapsed">

  <!-- CONTENEDOR -->
  <div class="h-full w-full flex flex-col
              bg-gradient-to-b from-[#0b0f19]/95 to-[#05070d]/95
              backdrop-blur-xl
              border-r border-white/5
              shadow-[0_0_60px_-15px_rgba(99,102,241,0.25)]"
              [class.w-[280px]]="!isCollapsed"
              [class.w-[72px]]="isCollapsed">

    <!-- ========================= -->
    <!-- HEADER -->
    <!-- ========================= -->
    <div
      class="h-14 flex items-center shrink-0 transition-all duration-300"
      [class.justify-between]="!isCollapsed"
      [class.justify-center]="isCollapsed"
      [class.px-4]="!isCollapsed"
      [class.px-2]="isCollapsed">

      <!-- LOGO -->
      <div *ngIf="!isCollapsed" class="flex items-center gap-2 overflow-hidden">
        <div class="w-8 h-8 rounded-lg
                    bg-gradient-to-br from-indigo-500 to-cyan-400
                    shadow-[0_0_20px_rgba(99,102,241,.6)]">
        </div>

        <span
          *ngIf="!isCollapsed"
          class="text-sm font-semibold tracking-wide text-white/90 whitespace-nowrap">
          CAJACE EIRL
        </span>
      </div>

      <!-- BOT√ìN COLAPSAR (DESKTOP) -->
      <button
        (click)="onToggle()"
        [class.w-full]="isCollapsed"
        class="hidden lg:flex group relative 
              w-9 h-9 items-center justify-center
              rounded-lg
              bg-white/[0.02]
              border border-white/10
              text-white/50
              hover:text-white
              hover:bg-white/[0.06]
              hover:border-white/20
              active:scale-95
              transition-all duration-300 ease-out">

         <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="transition-all duration-300">

            <!-- panel -->
            <rect x="3" y="4" width="18" height="16" rx="2" />

            <!-- divisor lateral -->
            <line
              x1="9"
              y1="4"
              x2="9"
              y2="20"
              class="transition-all duration-300"
              [attr.opacity]="isCollapsed ? 0.3 : 1" />

          </svg>

        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                 ml-3 -translate-y-1/2
                 px-3 py-1.5 rounded-md
                 bg-[#0b0f19]/95 backdrop-blur-md
                 border border-white/10
                 shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                 text-xs font-medium text-white whitespace-nowrap
                 opacity-0 translate-x-1 scale-95
                 group-hover:opacity-100
                 group-hover:translate-x-0
                 group-hover:scale-100
                 transition-all duration-200 ease-out">
          Barra lateral
        </span>

      </button>

    </div>

    <div
      class="mt-3 transition-all duration-300"
      [class.px-3]="!isCollapsed"
      [class.px-2]="isCollapsed">


      <button
      routerLink="/dashboard"
        class="group relative w-full flex items-center justify-center gap-3
               px-3 py-2.5 rounded-lg
               bg-white/5 hover:bg-white/10
               border border-white/10
               text-white/90
               transition-all duration-300 mb-2">

        <!-- ICON -->
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="shrink-0 transition-all duration-300">

          <!-- top left -->
          <rect x="3" y="3" width="7" height="7" rx="1.5" />
          <!-- top right -->
          <rect x="14" y="3" width="7" height="7" rx="1.5" />
          <!-- bottom -->
          <rect x="3" y="14" width="18" height="7" rx="1.5" />
        </svg>

        <span *ngIf="!isCollapsed" class="text-sm">
          Dashboard
        </span>

        <!-- TOOLTIP (COLAPSADO) -->
        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                 ml-3 -translate-y-1/2
                 px-3 py-1.5 rounded-md
                 bg-[#0b0f19]/95 backdrop-blur-md
                 border border-white/10
                 shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                 text-xs font-medium text-white whitespace-nowrap
                 opacity-0 translate-x-1 scale-95
                 group-hover:opacity-100
                 group-hover:translate-x-0
                 group-hover:scale-100
                 transition-all duration-200 ease-out">
          Dashboard
        </span>
      </button>

      <!--USERS-->
      <button
      routerLink="users"
        class="group relative w-full flex items-center rounded-lg
              text-white/70 hover:text-white
              hover:bg-white/5
              transition-all duration-300 mb-2"
        [class.justify-center]="isCollapsed"
        [class.gap-3]="!isCollapsed"
        [class.px-4]="!isCollapsed"
        [class.px-2]="isCollapsed"
        [class.py-2.5]="!isCollapsed"
        [class.py-3]="isCollapsed">

        <!-- ICON USERS -->
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="shrink-0">

          <!-- user -->
          <path d="M20 21a8 8 0 0 0-16 0" />
          <circle cx="12" cy="7" r="4" />
        </svg>

        <!-- LABEL -->
        <span *ngIf="!isCollapsed" class="text-sm truncate">
          Usuarios
        </span>

        <!-- TOOLTIP (COLAPSADO) -->
        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                ml-3 -translate-y-1/2
                px-3 py-1.5 rounded-md
                bg-[#0b0f19]/95 backdrop-blur-md
                border border-white/10
                shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                text-xs font-medium text-white whitespace-nowrap
                opacity-0 translate-x-1 scale-95
                group-hover:opacity-100
                group-hover:translate-x-0
                group-hover:scale-100
                transition-all duration-200 ease-out">
          Usuarios
        </span>

      </button>


      <!-- ITEM REPORTES -->
      <button
        routerLink="reports"
        class="group relative w-full flex items-center rounded-lg
               text-white/70 hover:text-white
               hover:bg-white/5
               transition-all duration-300 mb-2"
        [class.justify-center]="isCollapsed"
        [class.gap-3]="!isCollapsed"
        [class.px-4]="!isCollapsed"
        [class.px-2]="isCollapsed"
        [class.py-2.5]="!isCollapsed"
        [class.py-3]="isCollapsed">

        <span class="text-lg">üìÑ</span>

        <span *ngIf="!isCollapsed" class="text-sm truncate">
          Reportes
        </span>

        <!-- TOOLTIP -->
        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                 ml-3 -translate-y-1/2
                 px-3 py-1.5 rounded-md
                 bg-[#0b0f19]/95 backdrop-blur-md
                 border border-white/10
                 shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                 text-xs font-medium text-white whitespace-nowrap
                 opacity-0 translate-x-1 scale-95
                 group-hover:opacity-100
                 group-hover:translate-x-0
                 group-hover:scale-100
                 transition-all duration-200 ease-out">
          Reportes
        </span>
      </button>

            <!-- ITEM CONFIG -->
      <button
      routerLink="config"
        class="group relative w-full flex items-center rounded-lg
               text-white/70 hover:text-white
               hover:bg-white/5
               transition-all duration-300 mb-2"
        [class.justify-center]="isCollapsed"
        [class.gap-3]="!isCollapsed"
        [class.px-4]="!isCollapsed"
        [class.px-2]="isCollapsed"
        [class.py-2.5]="!isCollapsed"
        [class.py-3]="isCollapsed">

        <span class="text-lg">‚öôÔ∏è</span>

        <span *ngIf="!isCollapsed" class="text-sm truncate">
          Configuraci√≥n
        </span>

        <!-- TOOLTIP -->
        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                 ml-3 -translate-y-1/2
                 px-3 py-1.5 rounded-md
                 bg-[#0b0f19]/95 backdrop-blur-md
                 border border-white/10
                 shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                 text-xs font-medium text-white whitespace-nowrap
                 opacity-0 translate-x-1 scale-95
                 group-hover:opacity-100
                 group-hover:translate-x-0
                 group-hover:scale-100
                 transition-all duration-200 ease-out">
          Configuraci√≥n
        </span>
      </button>

    </div>

    <!-- ========================= -->
    <!-- NAV -->
    <!-- ========================= -->
    <nav
      class="mt-4 flex-1 overflow-y-auto overflow-x-visible space-y-1 px-2
             [&::-webkit-scrollbar]:w-[6px]
             [&::-webkit-scrollbar-track]:bg-transparent
             [&::-webkit-scrollbar-thumb]:rounded-full
             [&::-webkit-scrollbar-thumb]:bg-gradient-to-b
             [&::-webkit-scrollbar-thumb]:from-indigo-500/40
             [&::-webkit-scrollbar-thumb]:to-cyan-400/40">





    </nav>

    <!-- ========================= -->
    <!-- FOOTER -->
    <!-- ========================= -->
    <div
      class="border-t border-white/5
             bg-gradient-to-t from-black/30 to-transparent
             transition-all duration-300"
      [class.px-3]="!isCollapsed"
      [class.px-2]="isCollapsed"
      [class.py-3]="true">

      <button
        class="group relative w-full flex items-center rounded-lg
               hover:bg-white/5
               transition-all duration-300"
        [class.justify-center]="isCollapsed"
        [class.gap-3]="!isCollapsed"
        [class.py-2]="true">

        <img
          src="https://i.pravatar.cc/40"
          class="w-8 h-8 rounded-full ring-2 ring-white/10" />

        <div *ngIf="!isCollapsed" class="min-w-0">
          <div class="text-xs font-medium text-white truncate">
            Hacker
          </div>
          <div class="text-[11px] text-white/40 truncate">
            Plan Pro
          </div>
        </div>

        <!-- TOOLTIP -->
        <span
          *ngIf="isCollapsed"
          class="pointer-events-none absolute left-full top-1/2 z-[3000]
                 ml-3 -translate-y-1/2
                 px-3 py-1.5 rounded-md
                 bg-[#0b0f19]/95 backdrop-blur-md
                 border border-white/10
                 shadow-[0_10px_30px_-10px_rgba(0,0,0,.8)]
                 text-xs font-medium text-white whitespace-nowrap
                 opacity-0 translate-x-1 scale-95
                 group-hover:opacity-100
                 group-hover:translate-x-0
                 group-hover:scale-100
                 transition-all duration-200 ease-out">
          Hacker ¬∑ Plan Pro
        </span>
      </button>
    </div>

  </div>
</aside>
