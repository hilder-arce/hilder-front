<!-- HEADER MOBILE -->
<header
  *ngIf="!open"
  class="sticky top-0 z-[1999] lg:hidden
         h-14 px-4
         flex items-center justify-between
         bg-white/85 backdrop-blur-xl
         border-b border-black/5">

  <!-- MENU -->
  <button
    (click)="openSidebar()"
    class="group w-10 h-10 flex items-center justify-center
           rounded-xl
           bg-black/[0.03]
           hover:bg-black/[0.06]
           active:scale-95
           transition-all duration-200">

    <i class="bi bi-list text-xl text-black/80
              group-hover:text-black"></i>
  </button>

  <!-- BRAND -->
  <div class="flex items-center gap-2 min-w-0">
<!-- LOGO -->
        <div
          class="w-9 h-9 rounded-lg overflow-hidden
                bg-white
                shadow-[0_0_20px_rgba(0,0,0,0.35)]">

          <img
            src="https://i.ibb.co/Hp72r8P8/logo-cajace.jpg"
            alt="CAJACE EIRL"
            class="w-full h-full object-cover"
            loading="lazy"
            referrerpolicy="no-referrer"
          />

        </div>

    <span class="text-sm font-semibold tracking-wide truncate">
      CAJACE EIRL
    </span>
  </div>

  <!-- PLACEHOLDER -->
  <div class="w-10"></div>
</header>

<!-- SIDEBAR MOBILE -->
<aside
  class="fixed inset-y-0 left-0 z-[2000]
         w-[300px] max-w-[90vw]
         lg:hidden
         transition-transform duration-300 ease-[cubic-bezier(.4,0,.2,1)]
         bg-gradient-to-b from-[#0b0f19]/95 to-[#05070d]/95
         backdrop-blur-xl
         border-r border-white/5
         shadow-[0_0_80px_-20px_rgba(99,102,241,0.35)]"
  [class.translate-x-0]="open"
  [class.-translate-x-full]="!open">

  <div class="h-full flex flex-col">

    <!-- HEADER -->
    <div
      class="h-14 px-4 flex items-center justify-between
             border-b border-white/5">

      <div class="flex items-center gap-3">
      <!-- LOGO -->
        <div
          class="w-9 h-9 rounded-lg overflow-hidden
                bg-white
                shadow-[0_0_20px_rgba(0,0,0,0.35)]">

          <img
            src="https://i.ibb.co/Hp72r8P8/logo-cajace.jpg"
            alt="CAJACE EIRL"
            class="w-full h-full object-cover"
            loading="lazy"
            referrerpolicy="no-referrer"
          />

        </div>

        <span class="text-sm font-semibold text-white/90">
          CAJACE EIRL
        </span>
      </div>

      <button
        (click)="close()"
        class="group w-9 h-9 flex items-center justify-center
               rounded-lg
               text-white/60
               hover:text-white
               hover:bg-white/5
               active:scale-95
               transition">

        <i class="bi bi-x-lg text-sm"></i>
      </button>
    </div>

    <!-- QUICK ACTION -->
    <div class="px-4 mt-4">
      <button
        routerLink="/dashboard"
        (click)="close()"
        class="group w-full flex items-center gap-3
               px-4 py-3 rounded-xl
               bg-gradient-to-r
               from-indigo-500/25 to-indigo-500/5
               border border-indigo-400/20
               text-white
               shadow-[0_10px_30px_-15px_rgba(99,102,241,.6)]
               hover:from-indigo-500/35
               transition-all duration-300">

        <i class="bi bi-speedometer2 text-lg"></i>

        <span class="text-sm font-medium">
          Dashboard
        </span>
      </button>
    </div>

    <!-- NAV -->
    <nav
      class="mt-5 flex-1 overflow-y-auto px-3 space-y-1
             [&::-webkit-scrollbar]:w-[5px]
             [&::-webkit-scrollbar-thumb]:rounded-full
             [&::-webkit-scrollbar-thumb]:bg-gradient-to-b
             [&::-webkit-scrollbar-thumb]:from-indigo-500/40
             [&::-webkit-scrollbar-thumb]:to-cyan-400/40">

      <button
        routerLink="users"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-people"></i>
        Usuarios
      </button>

      <button
        routerLink="reports"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-bar-chart"></i>
        Reportes
      </button>

      <button
        routerLink="config"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-gear"></i>
        Configuraci√≥n
      </button>
    </nav>

     <!-- FOOTER -->
<div
  *ngIf="auth.currentUser as user"
  class="mt-auto border-t border-white/5
        bg-gradient-to-t from-black/30 to-transparent
        px-3 py-3">

  <div class="flex items-center gap-2">

    <!-- USER -->
    <button
    (click)="close()"
      class="group relative flex-1 flex items-center gap-3
            rounded-lg px-2 py-2
            hover:bg-white/5 transition-all">

      <!-- Avatar -->
      <div
        class="w-9 h-9 rounded-full
              flex items-center justify-center
              bg-gradient-to-br from-indigo-500 to-cyan-400
              text-white font-semibold
              ring-2 ring-white/10">
        {{ user.nameUser[0] | uppercase }}
      </div>

      <!-- Info -->
      <div class="leading-tight min-w-0">
        <div class="text-xs uppercase font-medium text-white truncate">
          {{ user.nameUser }}
        </div>
        <div class="text-[11px] tracking-wide text-white/40 truncate">
          {{ user.email }}
        </div>
      </div>

    </button>

    <!-- LOGOUT (solo expandido) -->
    <button
      (click)="logout()"
      class="group relative w-9 h-9
            flex items-center justify-center
            rounded-lg
            text-red-400/70
            hover:text-red-400
            hover:bg-red-500/10
            transition-all duration-300">

      <svg
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round">

        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
        <polyline points="16 17 21 12 16 7" />
        <line x1="21" y1="12" x2="9" y2="12" />
      </svg>

    </button>

  </div>
</div>

  </div>
</aside>
