<!-- HEADER MOBILE -->
<header
  *ngIf="!open"
  class="sticky top-0 z-[1999] lg:hidden
         h-14 px-4
         flex items-center justify-between
         bg-white/85 backdrop-blur-xl
         border-b border-black/5">

  <!-- MENU -->
  <button
    (click)="openSidebar()"
    class="group w-10 h-10 flex items-center justify-center
           rounded-xl
           bg-black/[0.03]
           hover:bg-black/[0.06]
           active:scale-95
           transition-all duration-200">

    <i class="bi bi-list text-xl text-black/80
              group-hover:text-black"></i>
  </button>

  <!-- BRAND -->
  <div class="flex items-center gap-2 min-w-0">
    <div
      class="w-7 h-7 rounded-lg
             bg-gradient-to-br from-indigo-500 via-violet-500 to-cyan-400
             shadow-[0_0_20px_rgba(99,102,241,.6)]">
    </div>

    <span class="text-sm font-semibold tracking-wide truncate">
      CAJACE EIRL
    </span>
  </div>

  <!-- PLACEHOLDER -->
  <div class="w-10"></div>
</header>

<!-- SIDEBAR MOBILE -->
<aside
  class="fixed inset-y-0 left-0 z-[2000]
         w-[300px] max-w-[90vw]
         lg:hidden
         transition-transform duration-300 ease-[cubic-bezier(.4,0,.2,1)]
         bg-gradient-to-b from-[#0b0f19]/95 to-[#05070d]/95
         backdrop-blur-xl
         border-r border-white/5
         shadow-[0_0_80px_-20px_rgba(99,102,241,0.35)]"
  [class.translate-x-0]="open"
  [class.-translate-x-full]="!open">

  <div class="h-full flex flex-col">

    <!-- HEADER -->
    <div
      class="h-14 px-4 flex items-center justify-between
             border-b border-white/5">

      <div class="flex items-center gap-3">
        <div
          class="w-8 h-8 rounded-xl
                 bg-gradient-to-br from-indigo-500 via-violet-500 to-cyan-400
                 shadow-[0_0_25px_rgba(99,102,241,.7)]">
        </div>

        <span class="text-sm font-semibold text-white/90">
          CAJACE EIRL
        </span>
      </div>

      <button
        (click)="close()"
        class="group w-9 h-9 flex items-center justify-center
               rounded-lg
               text-white/60
               hover:text-white
               hover:bg-white/5
               active:scale-95
               transition">

        <i class="bi bi-x-lg text-sm"></i>
      </button>
    </div>

    <!-- QUICK ACTION -->
    <div class="px-4 mt-4">
      <button
        routerLink="/dashboard"
        (click)="close()"
        class="group w-full flex items-center gap-3
               px-4 py-3 rounded-xl
               bg-gradient-to-r
               from-indigo-500/25 to-indigo-500/5
               border border-indigo-400/20
               text-white
               shadow-[0_10px_30px_-15px_rgba(99,102,241,.6)]
               hover:from-indigo-500/35
               transition-all duration-300">

        <i class="bi bi-speedometer2 text-lg"></i>

        <span class="text-sm font-medium">
          Dashboard
        </span>
      </button>
    </div>

    <!-- NAV -->
    <nav
      class="mt-5 flex-1 overflow-y-auto px-3 space-y-1
             [&::-webkit-scrollbar]:w-[5px]
             [&::-webkit-scrollbar-thumb]:rounded-full
             [&::-webkit-scrollbar-thumb]:bg-gradient-to-b
             [&::-webkit-scrollbar-thumb]:from-indigo-500/40
             [&::-webkit-scrollbar-thumb]:to-cyan-400/40">

      <button
        routerLink="users"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-people"></i>
        Usuarios
      </button>

      <button
        routerLink="reports"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-bar-chart"></i>
        Reportes
      </button>

      <button
        routerLink="config"
        (click)="close()"
        class="mobile-item">

        <i class="bi bi-gear"></i>
        Configuraci√≥n
      </button>
    </nav>

    <!-- FOOTER -->
    <div
      *ngIf="auth.currentUser as user"
      class="mt-auto border-t border-white/5
            bg-gradient-to-t from-black/30 to-transparent
            px-3 py-3">

      <button
      (click)="close()"
        class="group relative w-full flex items-center gap-3
              rounded-lg px-2 py-2
              hover:bg-white/5 transition-all">

        <!-- Avatar premium -->
        <div
          class="w-9 h-9 rounded-full
                flex items-center justify-center
                bg-gradient-to-br from-indigo-500 to-cyan-400
                text-white font-semibold
                ring-2 ring-white/10">
          {{ user.nameUser[0] | uppercase }}
        </div>

        <!-- Info -->
        <div class="leading-tight">
          <div class="text-xs font-medium text-white">
            {{ user.nameUser }}
          </div>
          <div class="text-[11px] uppercase tracking-wide text-white/40">
            {{ user.email }}
          </div>
        </div>

      </button>
    </div>

  </div>
</aside>
